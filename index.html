<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body class="min-vh-100 min-vw-100 d-flex justify-content-center align-items-center bg-secondary">
    <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="d-flex justify-content-end w-100">
                <h2 class="navbar-brand"><img src="assets/dollar.png" alt="coin" width="64" height="64"> 0</h2>
            </div>
        </div>
    </nav>
    <nav class="navbar fixed-bottom navbar-expand-sm navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="d-flex justify-content-between w-100">
                <buttom class="btn btn-success"><img src="assets/plant.png" alt="" width="64" height="64"></buttom>
                <buttom class="btn btn-success"><img src="assets/watering-can.png" alt="" width="64" height="64"></buttom>
                <buttom class="btn btn-success"><img src="assets/scythe.png" alt="" width="64" height="64"></buttom>
            </div>
        </div>
    </nav>
    <div id="display-game" class="d-flex justify-content-center mx-auto position-relative bg-success">
        <script>
            const size = 64;
            const displayGame = document.querySelector("#display-game");

            //TILES
            for (let x = 0; x < 20; x++) {
                for (let y = 0; y < 20; y++) {
                    //create
                    const tile = document.createElement("div");
                    tile.className = "tile position-absolute";
                    tile.style.top = `${x * (size / 4) + y * (size / 4)}px`;
                    tile.style.left = `${x * (size / 2) + y * (-size / 2) - size / 2 + 640}px`;

                    const img = document.createElement("img");
                    if (x == 6 && y==4){
                        img.src = "assets/field.png";
                    }else{
                        img.src = "assets/grass.png";
                    }
                    img.alt = "grass";
                    tile.appendChild(img);

                    displayGame.appendChild(tile);
                }
            }

            //CHARACTER
            //create
            const character = document.createElement("div");
            character.className = "position-absolute character";
            character.style.top = `256px`;
            character.style.left = `608px`;

            const img = document.createElement("img");
            img.src = "assets/character.png";
            img.alt = "character";
            img.className = 'p-events'
            character.appendChild(img);
            displayGame.appendChild(character);

            const trees = document.createElement("div");
            trees.className = "position-absolute tree";
            trees.style.top = `128px`;
            trees.style.left = `608px`;

            const img2 = document.createElement("img");
            img2.src = "assets/trees.png";
            img2.alt = "trees";
            img2.className = 'p-events'
            trees.appendChild(img2);
            displayGame.appendChild(trees);

            const trees2 = document.createElement("div");
            trees2.className = "position-absolute tree";
            trees2.style.top = `128px`;
            trees2.style.left = `672px`;

            const img3 = document.createElement("img");
            img3.src = "assets/wheat.png";
            img3.alt = "trees";
            img3.className = 'p-events'
            trees2.appendChild(img3);
            displayGame.appendChild(trees2);

            //moving
            for (const tile of document.querySelectorAll(".tile")) {

                tile.addEventListener("click", function () {
                    const targetX = tile.offsetLeft;
                    const targetY = tile.offsetTop - size / 2;

                    character.style.transition = "all 0.5s ease-out";
                    character.style.left = `${targetX}px`;
                    character.style.top = `${targetY}px`;
                });
            }
            for (const tile of document.querySelectorAll(".wheat")) {

                tile.addEventListener("click", function () {
                    const targetX = tile.offsetLeft;
                    const targetY = tile.offsetTop;

                    character.style.transition = "all 0.5s ease-out";
                    character.style.left = `${targetX}px`;
                    character.style.top = `${targetY}px`;
                });
            }
            window.onload = function () {
                displayGame.scrollLeft = character.offsetLeft - displayGame.offsetWidth / 2 + character.offsetWidth / 2;
                displayGame.scrollTop = character.offsetTop - displayGame.offsetHeight / 2 + character.offsetHeight / 2;
            };
        </script>
    </div>

</body>

</html>
<!--
    todo:
    prszyciski ekranowe do navigacji
    lista zadaÅ„
    mapa
    przedmioty
    interfejs podlewanie sadzenie
    https://www.flaticon.com/search?word=watering%20can
    https://www.flaticon.com/search?word=scythe
    https://www.flaticon.com/search?word=coin
    https://www.flaticon.com/search?word=plant
-->