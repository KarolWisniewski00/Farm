<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.54.0/dist/phaser.js"></script>
</head>

<body class="min-vh-100 min-vw-100 d-flex justify-content-center align-items-center"
    style="background-image: url('assets/BG.png');background-size: cover;  background-position: center;">
    <!--TOP NAV-->
    <nav class="navbar fixed-top navbar-dark p-0" id="navtop">
        <!--MAIN-->
        <div class="container-fluid w-100 bg-dark">
            <div class="d-flex justify-content-between w-100">
                <div class="navbar-brand d-flex justify-content-between align-items-center m-0">
                    <buttom class="btn btn-outline-light p-2 m-2" id="seeding"><img src="assets/seeding.png"
                            class="img-fluid max-height-64" alt="seeding"></buttom>
                    <buttom class="btn btn-outline-light p-2 m-2" id="mission"><img src="assets/target.png"
                            class="img-fluid max-height-64" alt="target"></buttom>
                </div>
                <div class="navbar-brand d-flex justify-content-center align-items-center m-0">
                    <img src="assets/coin-icon.png" alt="coin-icon" width="64" height="64">
                    <span id="coins" class="mx-2"></span>
                </div>
            </div>
        </div>
    </nav>
    <!--WINDOW SEEDING-->
    <div class="position-absolute w-auto mx-3 p-3 bg-dark bg-opacity-50 text-bg-dark overflow-auto d-flex flex-column align-items-center px-5 shadow"
        id="window-seeding" style="top:auto; left: auto; max-height: 60vh; visibility: hidden;">
        <div class="w-100 text-center my-3">
            <h2>Seeding</h2>
        </div>
        <div class="container">
            <div class="row">
                <div class="col d-flex justify-content-center align-items-center">
                    <buttom class="btn btn-outline-light p-2 m-2" id="wheat-icon"
                        onclick="kindSeedingSet(dictKind.wheat, 'wheat-icon','tomato-icon')">
                        <div>Wheat</div><img src="assets/wheat-icon.png" class="img-fluid max-height-64"
                            alt="wheat-icon">
                        <div id="wheat-seeding-count"></div>
                    </buttom>
                </div>
                <div class="col d-flex justify-content-center align-items-center">
                    <buttom class="btn btn-outline-light p-2 m-2" id="tomato-icon"
                        onclick="kindSeedingSet(dictKind.tomato,'tomato-icon','wheat-icon')">
                        <div>Tomato</div><img src="assets/tomato-icon.png" class="img-fluid max-height-64"
                            alt="tomato-icon">
                        <div id="tomato-seeding-count"></div>
                    </buttom>
                </div>
                <div class="col d-flex justify-content-center align-items-center">
                    <buttom class="btn btn-outline-light p-2 m-2" id="carrot-icon"
                        onclick="kindSeedingSet(dictKind.carrot,'carrot-icon','wheat-icon')">
                        <div>Carrot</div><img src="assets/carrot-icon.png" class="img-fluid max-height-64"
                            alt="carrot-icon">
                        <div id="carrot-seeding-count"></div>
                    </buttom>
                </div>
            </div>
        </div>
    </div>
    <!--WINDOW MISSION-->
    <div class="position-absolute w-auto mx-3 p-3 bg-dark bg-opacity-50 text-bg-dark overflow-auto d-flex flex-column align-items-center px-5 shadow"
        id="window-mission" style="top:auto; left: auto; max-height: 60vh; visibility: hidden;">
        <div class="w-100 text-center my-3">
            <h2>Missions</h2>
        </div>
        <div class="list-group mb-5" id="missions">
            <!--MISSION
            <div
                class="list-group-item list-group-item-action bg-transparent border-1 rounded-0 border-white text-white d-flex flex-column justify-content-between">
                <div class="d-flex flex-row">
                    <div class="d-flex flex-column w-100 text-center">
                        <h5 class="mb-1">Collect:</h5>
                        <div class="w-100">
                            <buttom class="btn btn-outline-light p-2 m-2">
                                <div>Wheat</div><img src="assets/wheat-icon.png" class="img-fluid max-height-64"
                                    alt="wheat-icon">
                                <div>x<span id="mission-0-collect-0-count">12</span></div>
                            </buttom>
                        </div>
                    </div>
                    <div class="d-flex flex-column w-100 text-center">
                        <h5 class="mb-1">Award:</h5>
                        <div class="w-100">
                            <buttom class="btn btn-outline-light p-2 m-2">
                                <div>Tomato</div><img src="assets/tomato-icon.png" class="img-fluid max-height-64"
                                    alt="tomato-icon">
                                <div>x<span id="mission-0-award-0-count">1</span></div>
                            </buttom>
                        </div>
                    </div>
                </div>
                <div class="d-flex flex-column text-center w-100">
                    <div><button class="btn btn-light">Do it!</button></div>
                </div>
            </div>-->

        </div>
    </div>
    <!--BOTTOM NAV-->
    <nav class="navbar fixed-bottom navbar-expand-sm navbar-dark bg-dark" id="navbot">
        <div class="container-fluid">
            <div class="d-flex justify-content-between w-100">
                <buttom class="btn btn-outline-light p-2 m-2" id="shovel"><img src="assets/shovel.png"
                        class="img-fluid max-height-64" alt="shovel"></buttom>
                <buttom class="btn btn-outline-light p-2 m-2" id="plant"><img src="assets/plant.png" alt="plant"
                        class="img-fluid max-height-64"></buttom>
                <buttom class="btn btn-outline-light p-2 m-2" id="watering-can"><img src="assets/watering-can.png"
                        alt="watering-can" class="img-fluid max-height-64"></buttom>
                <buttom class="btn btn-outline-light p-2 m-2" id="scythe"><img src="assets/scythe.png" alt="scythe"
                        class="img-fluid max-height-64"></buttom>
            </div>
        </div>
    </nav>
    <script src="js/phaser.min.js"></script>
    <script src="js/phaser-plugin-isometric.min.js"></script>
    <script>
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        //CONFIG
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        var navTop = document.getElementById("navtop");
        var navTopHeight = navTop.offsetHeight;

        var navBot = document.getElementById("navbot");
        var navBotHeight = navBot.offsetHeight;


        var width = window.innerWidth * 0.85;
        var height = (window.innerHeight * 0.9) - navTopHeight - navBotHeight;

        if (height > 720) {
            height = 720
        }

        var game = new Phaser.Game({
            width: width,
            height: height,
            type: Phaser.AUTO,
            parent: 'farm',
            canvas: {
                id: 'canvas'
            },
            transparent: true,
            antialias: false,
        });
        var BasicGame = function (game) { };
        BasicGame.Boot = function (game) { };
        var isoGroup, cursorPos, cursor;

        //CONST
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        const dictPlatform = {
            grass: 0,
            noGrass: 1,
            wateringNoGrass: 2,
            water: 3,
        };
        const dictPlatformSecond = {
            null: 0,
            tree: 1,
            rock: 2,
            wheat: 3,
            shoot: 4,
            tomato: 5,
            transparent: 6,
            carrot: 7,
        };
        const dictKind = {
            null: 0,
            wheat: 1,
            tomato: 2,
            carrot: 4,
        };
        const dictColor = {
            normal: '#a7aebe',
            blue: '#0096FF',
            green: '#00ff00',
            yellow: '#ffff00',
            brown: '#CD7F32',
            red: '#ff0000',
            white: '#ffffff',
            orange: '#FFA500',
        };
        const dictSeedingTime = {
            tomato: 2,
            wheat: 1,
            carrot: 5,
        };
        const size = 35.8;
        const speed = 200;
        const digCost = 10;
        const plantCost = 5;
        const wateringCost = 5;
        const cropsRevenue = 30;
        const characterStartX = 10;
        const characterStartY = 10;
        const infoY = 16;
        const infoX = 2;
        const walls = 100;

        //VARIABLES
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        var count;
        var platformInfo = null;
        var platformSecondInfo = null;
        var lastX = null;
        var lastY = null;
        var kindSeeding = dictKind.null;

        var platformSecondInfoColor = dictColor.normal;
        var platformInfoColor = dictColor.normal;
        var kindSeedingInfoColor = dictColor.normal;
        var kindGrowingInfoColor = dictColor.normal;
        var timeLeftColor = dictColor.normal;


        var timeLeft;

        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        //DB VARIABLES
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        var map = [
            [{ platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 2, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 2, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 2, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 2, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 2, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 2, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 2, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 3, platformSecond: 6, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 1, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
            [{ platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }, { platform: 0, platformSecond: 0, kindGrowing: 0, dateStart: 0, dateEnd: 0 }],
        ];
        var coins = 100;
        var missions = [
            { collect: [{ item: 'wheat', count: 10 },], award: [{ item: 'tomato', count: 1 },{ item: 'coin', count: 250 }], },
            { collect: [{ item: 'wheat', count: 40 }, { item: 'tomato', count: 14 }], award: [{ item: 'carrot', count: 1 }, { item: 'coin', count: 550 }], },
        ]
        var dictSeedingCount = {
            tomato: 0,
            wheat: 10,
            carrot: 0,
        };
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        //
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------

        BasicGame.Boot.prototype =
        {
            //INSIDE CREATE FUNCTIONS
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            gameAdd: function (yy, xx, kind, group, asx, asy, wet = false) {    //player move on
                obj = game.add.isoSprite(yy, xx, 0, kind, 0, group);            //add sprite
                obj.anchor.set(asx, asy);                                       //set anchor
                if (wet == true) {                                              //in case WateringNoGrass
                    obj.tint = 0x86bfda;                                        //change color
                }
            },
            gameAddWall: function (yy, xx, kind, group, asx, asy) {             //player move off
                obj = game.add.isoSprite(yy, xx, 0, kind, 0, group);            //add sprite
                obj.anchor.set(asx, asy);                                       //set anchor
                game.physics.isoArcade.enable(obj);                             //turn on physics
                obj.body.collideWorldBounds = true;                             //turn on collide
                obj.body.immovable = true;                                      //turn off move
            },
            spawnTilesPlatform: function () {
                /*
                OLD:
                for (var xx = 0; xx < map[0].length * size - size; xx += size) {
                    for (var yy = 0; yy < map.length * size - size; yy += size) {
                        //code
                    };
                };
                */
                //TABLE ITERATION
                for (var i = 0; i < map[0].length * map.length; i++) {
                    var yy = Math.floor(i / map[0].length) * size;
                    var xx = (i % map[0].length) * size;

                    switch (map[parseInt(xx / size)][parseInt(yy / size)].platform) {
                        case dictPlatform.grass: this.gameAdd(yy, xx, 'grass', isoGroupPlatform, 0.5, 0); break;
                        case dictPlatform.noGrass: this.gameAdd(yy, xx, 'nograss', isoGroupPlatform, 0.5, 0); break;
                        case dictPlatform.wateringNoGrass: this.gameAdd(yy, xx, 'nograss', isoGroupPlatform, 0.5, 0, true); break;
                        case dictPlatform.water: this.gameAdd(yy, xx, 'water', isoGroupPlatform, 0.5, 0, true); break;
                    };
                };
            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            spawnTilesPlatformSecond: function () {
                //TABLE ITERATION
                for (var i = 0; i < map[0].length * map.length; i++) {
                    var yy = Math.floor(i / map[0].length) * size;
                    var xx = (i % map[0].length) * size;

                    switch (map[parseInt(xx / size)][parseInt(yy / size)].platformSecond) {
                        case dictPlatformSecond.tree: this.gameAddWall(yy, xx, 'tree', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.rock: this.gameAddWall(yy, xx, 'rock', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.transparent: this.gameAddWall(yy, xx, 'transparent', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.wheat: this.gameAdd(yy, xx, 'wheat', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.shoot: this.gameAdd(yy, xx, 'shoot', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.tomato: this.gameAdd(yy, xx, 'tomato', isoGroupPlatformSecond, 0.5); break;
                        case dictPlatformSecond.carrot: this.gameAdd(yy, xx, 'carrot', isoGroupPlatformSecond, 0.5); break;
                    };
                };
            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            //PRELOAD
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            preload: function () {
                //LOAD IMAGES
                game.load.image('grass', 'assets/grass.png');
                game.load.image('nograss', 'assets/nograss.png');
                game.load.image('character', 'assets/character.png');
                game.load.image('tree', 'assets/tree.png');
                game.load.image('wheat', 'assets/wheat.png');
                game.load.image('tomato', 'assets/tomato.png');
                game.load.image('shoot', 'assets/shoot.png');
                game.load.image('rock', 'assets/rock.png');
                game.load.image('water', 'assets/water.png');
                game.load.image('transparent', 'assets/transparent.png');
                game.load.image('carrot', 'assets/carrot.png');

                //SET UP GAME
                game.time.advancedTiming = true;
                game.plugins.add(new Phaser.Plugin.Isometric(game));            //add plugin
                game.world.setBounds(0, 0, 1496, 1024);                         //add bounds word - need to camera
                game.physics.startSystem(Phaser.Plugin.Isometric.ISOARCADE);    //add plugin physics
                game.iso.anchor.setTo(0.5, 0.0);                                //set anchor

                //LAYOUT SET UP COMUNICATION
                document.getElementById("coins").innerHTML += coins;

                //RANDOM MAP
                for (var i = 0; i < walls; i++) {
                    var num1 = Math.floor(Math.random() * map[0].length);
                    var num2 = Math.floor(Math.random() * map.length);
                    var num3 = Math.floor(Math.random() * 3);
                    while (num1 === 10 || num2 === 10 || num1 < 10 && num2 < 10) {
                        num1 = Math.floor(Math.random() * map[0].length);
                        num2 = Math.floor(Math.random() * map.length);
                    }
                    map[num1][num2].platformSecond = parseInt(num3);
                };

            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            //CREATE
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            create: function () {
                //GRAVITY
                game.physics.isoArcade.gravity.setTo(0, 0, -1000);

                //SPAWN
                isoGroupPlatform = game.add.group();                //create group
                this.spawnTilesPlatform();                          //spawn
                isoGroupPlatformSecond = game.add.group();          //create group
                this.spawnTilesPlatformSecond();                    //spawn

                //CHARACTER
                player = game.add.isoSprite(size * characterStartX, size * characterStartY, 0, 'character', 0, isoGroupPlatformSecond); //add sprite
                player.anchor.set(0.5);                                                                                                 //set anchor
                game.physics.isoArcade.enable(player);                                                                                  //turn on physics
                player.body.collideWorldBounds = true;                                                                                  //turn on collide

                //ADD KEY TO MOVE
                this.cursors = game.input.keyboard.createCursorKeys();  //add keyboard
                this.game.input.keyboard.addKeyCapture([                //add keys
                    Phaser.Keyboard.LEFT,
                    Phaser.Keyboard.RIGHT,
                    Phaser.Keyboard.UP,
                    Phaser.Keyboard.DOWN,
                ]);

                //CAMERA MOVE
                game.camera.follow(player);

            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            //UPDATE
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            update: function () {
                //INSIDE FUNCTIONS
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                function actionOnClick(todo) {
                    var counter = 0;                                                                                                        //helper variable to find coords
                    isoGroupPlatform.forEach(function (tile) {                                                                              //loop for each element at platform
                        var inBounds = tile.isoBounds.containsXY(player.body.position.x + (size / 2), player.body.position.y + (size / 2)); //check player in bounds
                        if (!tile.selected && inBounds) {                                                                                   //if player in bounds is true and tile is false
                            tile.selected = true;                                                                                           //change state
                            y = counter % map.length                                                                                        //get coord y                                                                   
                            x = Math.floor(counter / (map.length))                                                                          //get coord x
                            todo(y, x, tile);                                                                                               //fuction to do - takes from argument
                        }
                        else if (tile.selected && !inBounds) {                                                                              //if player in bounds is false and tile is true
                            tile.selected = false;                                                                                          //change state
                        };
                        counter++;                                                                                                          //add to counter
                    });
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                function digInside(y, x, tile, to, toDict, watering = false) {
                    if (coins >= digCost) {                                     //check how many coins has player
                        tile.loadTexture(to);                                   //change texture
                        map[y][x].platform = toDict;                            //update map
                        coins -= digCost;                                       //add coins
                        document.getElementById("coins").innerHTML = coins;     //update coins
                        if (watering) {                                         //in case watering
                            tile.tint = 0xffffff;                               //return color
                        };
                    }
                };
                function dig(y, x, tile) {
                    if (map[y][x].platformSecond == dictPlatformSecond.null) {  //protection
                        switch (map[y][x].platform) {
                            //CHANGE FROM GRASS TO NOGRASS
                            case dictPlatform.grass: digInside(y, x, tile, 'nograss', dictPlatform.noGrass); break;
                            //CHANGE FROM NOGRASS TO GRASS
                            case dictPlatform.noGrass: digInside(y, x, tile, 'grass', dictPlatform.grass); break;
                            //CHANGE FROM WATERINGNOGRASS TO GRASS
                            case dictPlatform.wateringNoGrass: digInside(y, x, tile, 'grass', dictPlatform.grass, true); break;
                        };
                    };
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                function plantIndide(y, x, tile, to) {
                    switch (kindSeeding) {
                        case dictKind.tomato: count = dictSeedingCount.tomato; break;
                        case dictKind.wheat: count = dictSeedingCount.wheat; break;
                        case dictKind.carrot: count = dictSeedingCount.carrot; break;
                    }
                    if (coins >= plantCost && kindSeeding != dictKind.null && count > 0) {                                          //check how many coins has player and protection before no tooken kind
                        shoot = game.add.isoSprite(x * size, y * size, 0, 'shoot', 0, isoGroupPlatformSecond);  //add sprite
                        shoot.anchor.set(0.5);                                                                  //set anchor

                        let dateCurrent = new Date();
                        let minutes;
                        switch (kindSeeding) {
                            case dictKind.tomato: minutes = Math.floor(dateCurrent / (60 * 1000) % 60) + dictSeedingTime.tomato; break;
                            case dictKind.wheat: minutes = Math.floor(dateCurrent / (60 * 1000) % 60) + dictSeedingTime.wheat; break;
                            case dictKind.carrot: minutes = Math.floor(dateCurrent / (60 * 1000) % 60) + dictSeedingTime.carrot; break;
                        }
                        dateCurrent.setMinutes(minutes);

                        map[y][x].platformSecond = to;                                                      //update map
                        map[y][x].kindGrowing = kindSeeding;                                                                  //update map
                        map[y][x].dateStart = dateCurrent;
                        map[y][x].dateEnd = dateCurrent;

                        //console.log(dateCurrent+"|"+dateEnd+'|'+(dateEnd-dateCurrent))
                        coins -= plantCost;                                                                     //add coins
                        count--;
                        switch (kindSeeding) {
                            case dictKind.tomato: dictSeedingCount.tomato = count; break;
                            case dictKind.wheat: dictSeedingCount.wheat = count; break;
                            case dictKind.carrot: dictSeedingCount.carrot = count; break;
                        }
                        document.getElementById("coins").innerHTML = coins;                                     //update coins
                    };
                };
                function plant(y, x, tile) {
                    if (map[y][x].platformSecond == dictPlatformSecond.null) {                                  //protection
                        switch (map[y][x].platform) {
                            //CHANGE FROM NOGRASS TO SHOOT
                            case dictPlatform.noGrass: plantIndide(y, x, tile, dictPlatformSecond.shoot); break;
                            //CHANGE FROM WATERINGNOGRASS TO SHOOTWATERINGNOGRASS
                            case dictPlatform.wateringNoGrass: plantIndide(y, x, tile, dictPlatformSecond.shoot); break;
                        };
                    };
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                function wateringInside(y, x, tile, toDict) {
                    if (coins >= wateringCost) {                                //check how many coins has player
                        tile.tint = 0x86bfda;                                   //change color
                        map[y][x].platform = toDict;                            //update map
                        coins -= wateringCost;                                  //add coins
                        document.getElementById("coins").innerHTML = coins;     //update coins
                    };
                };
                function watering(y, x, tile) {
                    if ((map[y][x].platformSecond == dictPlatformSecond.null) || (map[y][x].platformSecond == dictPlatformSecond.shoot)) {
                        switch (map[y][x].platform) {
                            //CHANGE FROM NOGRASS TO WATERINGNOGRASS
                            case dictPlatform.noGrass: wateringInside(y, x, tile, dictPlatform.wateringNoGrass); break;
                        };
                    };
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                function cropsInside(y, x, tile, key) {
                    var counter = 0;                                                            //helper variable
                    var index = 0;                                                              //index of the object from isoGroupSecond
                    var diffX = 1000000;                                                        //helper variable
                    var diffY = 1000000;                                                        //helper variable
                    isoGroupPlatformSecond.forEach(function (tileSecond) {                      //loop for each element at 
                        if (tileSecond.key == key) {                                            //do it for key(kind) of object
                            var currDiffX = Math.abs(tile.position.x - tileSecond.position.x);  //take difference x
                            var currDiffY = Math.abs(tile.position.y - tileSecond.position.y);  //take difference y
                            if (currDiffX < diffX || currDiffY < diffY) {                       //take the lower one
                                diffX = currDiffX;                                              //update helper variable
                                diffY = currDiffY;                                              //update helper variable
                                index = counter;                                                //update index
                            };
                        };
                        counter++;                                                              //add to counter
                    });
                    tile.loadTexture('grass');                                                  //change texture
                    switch (map[y][x].platformSecond) {
                        case dictPlatformSecond.tomato: dictSeedingCount.tomato += 2; break;
                        case dictPlatformSecond.wheat: dictSeedingCount.wheat += 2; break;
                        case dictPlatformSecond.carrot: dictSeedingCount.carrot += 2; break;
                    };
                    map[y][x].platformSecond = dictPlatformSecond.null;                         //update map
                    map[y][x].platform = dictPlatform.grass;                                    //update map

                    isoGroupPlatformSecond.children[index].destroy();                           //destroy element from gameplay
                };
                function crops(y, x, tile) {
                    switch (map[y][x].platformSecond) {
                        case dictPlatformSecond.wheat: cropsInside(y, x, tile, 'wheat'); break;
                        case dictPlatformSecond.tomato: cropsInside(y, x, tile, 'tomato'); break;
                        case dictPlatformSecond.carrot: cropsInside(y, x, tile, 'carrot'); break;
                    };
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                //MOVE UPDATE PLAYER
                player.body.velocity.y = (this.cursors.up.isDown ? -speed : (this.cursors.down.isDown ? speed : 0));    //move top down
                player.body.velocity.x = (this.cursors.left.isDown ? -speed : (this.cursors.right.isDown ? speed : 0)); //move left right

                //ON CLICK SHOVEL
                document.getElementById("shovel").addEventListener("click", function () {
                    actionOnClick(dig);
                });

                //ON CLICK PLANT
                document.getElementById("plant").addEventListener("click", function () {
                    actionOnClick(plant);
                });

                //ON CLICK WATERING-CAN
                document.getElementById("watering-can").addEventListener("click", function () {
                    actionOnClick(watering);
                });

                //ON CLICK SCYTHE
                document.getElementById("scythe").addEventListener("click", function () {
                    actionOnClick(crops);
                });
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------
                let dateCurrent = new Date();
                for (var i = 0; i < map[0].length * map.length; i++) {
                    var y = Math.floor(i / map[0].length);
                    var x = (i % map[0].length);
                    if ((dateCurrent - map[y][x].dateEnd > 0 && map[y][x].platformSecond.key == 'shoot') || (map[y][x].dateEnd.toString() == dateCurrent.toString())) {
                        tile = isoGroupPlatform.children[(x * map[0].length) + y]
                        tile.tint = 0xffffff;
                        tile.loadTexture('nograss');

                        var counter = 0;                                                            //helper variable
                        var index = 0;                                                              //index of the object from isoGroupSecond
                        var diffX = 1000000;                                                        //helper variable
                        var diffY = 1000000;                                                        //helper variable
                        isoGroupPlatformSecond.forEach(function (tileSecond) {                      //loop for each element at 
                            if (tileSecond.key == 'shoot') {                                            //do it for key(kind) of object
                                var currDiffX = Math.abs(tile.position.x - tileSecond.position.x);  //take difference x
                                var currDiffY = Math.abs(tile.position.y - tileSecond.position.y);  //take difference y
                                if (currDiffX < diffX || currDiffY < diffY) {                       //take the lower one
                                    diffX = currDiffX;                                              //update helper variable
                                    diffY = currDiffY;                                              //update helper variable
                                    index = counter;                                                //update index
                                };
                            };
                            counter++;                                                              //add to counter
                        });

                        map[y][x].platform = dictPlatform.noGrass;
                        switch (map[y][x].kindGrowing) {
                            case dictKind.wheat: map[y][x].platformSecond = dictPlatformSecond.wheat; isoGroupPlatformSecond.children[index].loadTexture('wheat'); break;
                            case dictKind.tomato: map[y][x].platformSecond = dictPlatformSecond.tomato; isoGroupPlatformSecond.children[index].loadTexture('tomato'); break;
                            case dictKind.carrot: map[y][x].platformSecond = dictPlatformSecond.carrot; isoGroupPlatformSecond.children[index].loadTexture('carrot'); break;
                        };
                        map[y][x].kindGrowing = dictKind.null;
                        map[y][x].dateStart = 0;
                        map[y][x].dateEnd = 0;
                    };
                };
                //ADD COLLLIDE AND TOPOLOGIC VIEW
                game.physics.isoArcade.collide(isoGroupPlatform);
                game.physics.isoArcade.collide(isoGroupPlatformSecond);

                //game.iso.topologicalSort(isoGroupPlatform);
                game.iso.topologicalSort(isoGroupPlatformSecond);

            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
            render: function () {
                xx = (player.body.position.x / size);   //prepare coords
                yy = (player.body.position.y / size);   //prepare coords
                switch (map[Math.floor(yy)][Math.floor(xx)].platformSecond) {
                    case dictPlatformSecond.null: platformSecondInfo = 'Air'; platformSecondInfoColor = dictColor.normal; break;
                    case dictPlatformSecond.wheat: platformSecondInfo = 'Wheat'; platformSecondInfoColor = dictColor.green; break;
                    case dictPlatformSecond.tomato: platformSecondInfo = 'Tomato'; platformSecondInfoColor = dictColor.green; break;
                    case dictPlatformSecond.carrot: platformSecondInfo = 'Carrot'; platformSecondInfoColor = dictColor.green; break;
                    case dictPlatformSecond.shoot: platformSecondInfo = 'Shoot'; platformSecondInfoColor = dictColor.yellow;

                        let dateCurrent = new Date();
                        let dateEnd = map[Math.floor(yy)][Math.floor(xx)].dateEnd;
                        timeLeft = dateEnd - dateCurrent;
                        let minutes = Math.floor(timeLeft / (60 * 1000) % 60);
                        let seconds = Math.floor(timeLeft / 1000 % 60);
                        timeLeft = `${minutes}:${seconds}`;
                        timeLeftColor = dictColor.white;
                        break;
                };
                switch (map[Math.floor(yy)][Math.floor(xx)].platform) {
                    case dictPlatform.grass: platformInfo = 'Grass'; platformInfoColor = dictColor.normal; break;
                    case dictPlatform.noGrass: platformInfo = 'No Grass'; platformInfoColor = dictColor.brown; break;
                    case dictPlatform.wateringNoGrass: platformInfo = 'Watering No Grass'; platformInfoColor = dictColor.blue; break;
                };
                switch (map[Math.floor(yy)][Math.floor(xx)].kindGrowing) {
                    case dictKind.null: kindGrowingInfo = null; kindGrowingInfoColor = dictColor.normal; break;
                    case dictKind.wheat: kindGrowingInfo = 'wheat'; kindGrowingInfoColor = dictColor.yellow; break;
                    case dictKind.tomato: kindGrowingInfo = 'tomato'; kindGrowingInfoColor = dictColor.red; break;
                    case dictKind.carrot: kindGrowingInfo = 'carrot'; kindGrowingInfoColor = dictColor.red; break;
                };
                switch (kindSeeding) {
                    case dictKind.null: kindSeedingInfo = 'no selected!'; kindSeedingInfoColor = dictColor.red; break;
                    case dictKind.wheat: kindSeedingInfo = 'wheat'; kindSeedingInfoColor = dictColor.yellow; break;
                    case dictKind.tomato: kindSeedingInfo = 'tomato'; kindSeedingInfoColor = dictColor.red; break;
                    case dictKind.carrot: kindSeedingInfo = 'carrot'; kindSeedingInfoColor = dictColor.red; break;
                };
                //----------------------------------------------------------------------------------------------------------------------------------------------------------------

                game.debug.text('FPS: ' + game.time.fps || '--', infoX, infoY, dictColor.normal);
                game.debug.text('Platform: ' + platformInfo, infoX, infoY * 2, platformInfoColor);
                game.debug.text('Player: ' + platformSecondInfo, infoX, infoY * 3, platformSecondInfoColor);
                if (kindGrowingInfo != null) {
                    game.debug.text('Kind growing: ' + kindGrowingInfo, infoX, infoY * 4, kindGrowingInfoColor);
                    game.debug.text('Time left: ' + timeLeft, infoX, infoY * 5, timeLeftColor);
                } else {
                    game.debug.text('Kind seeding: ' + kindSeedingInfo, infoX, infoY * 4, kindSeedingInfoColor);
                };
            },
            //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        };

        //CONFIG
        game.state.add('Boot', BasicGame.Boot);
        game.state.start('Boot');
    </script>
    <script>
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        //LAYOUT
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        const dictButton = {
            wheat: 'wheat-icon',
            tomato: 'tomato-icon',
            carrot: 'carrot-icon',
        };


        //WINDOW SEEDING
        document.getElementById("seeding").addEventListener("click", function () {
            var div = document.getElementById('window-seeding');
            if (div.style.visibility === "hidden") {
                div.style.visibility = "visible";
                document.getElementById("wheat-seeding-count").innerHTML = dictSeedingCount.wheat;
                document.getElementById("tomato-seeding-count").innerHTML = dictSeedingCount.tomato;
                document.getElementById("carrot-seeding-count").innerHTML = dictSeedingCount.carrot;
            } else {
                div.style.visibility = "hidden";
            }
        });

        document.addEventListener("click", function (event) {
            var div = document.getElementById('window-seeding');
            var buttom = document.getElementById('seeding');
            var canvas = document.getElementById('canvas');
            if (event.target != buttom && event.target.parentNode != buttom) {
                div.style.visibility = "hidden";
            }
        });

        //WINDOW MISSION
        document.getElementById("mission").addEventListener("click", function () {
            var div = document.getElementById('window-mission');
            var divMissions = document.getElementById('missions');
            if (div.style.visibility === "hidden") {
                div.style.visibility = "visible";
                divMissions.innerHTML = '';
                var counter = 0;
                missions.forEach(function (mission) {
                    var collect = '';
                    var award = '';
                    mission.collect.forEach(function (coll) {
                        collect += `
                    <buttom class="btn btn-outline-light p-2 m-2">
                        <div style="text-transform: capitalize;">${coll.item}</div><img src="assets/${coll.item}-icon.png" class="img-fluid max-height-64"
                            alt="${coll.item}-icon">
                        <div>x<span>${coll.count}</span></div>
                    </buttom>
                    `;
                    });
                    mission.award.forEach(function (awa) {
                        award += `
                    <buttom class="btn btn-outline-light p-2 m-2">
                        <div style="text-transform: capitalize;">${awa.item}</div><img src="assets/${awa.item}-icon.png" class="img-fluid max-height-64"
                            alt="${awa.item}-icon">
                        <div>x<span>${awa.count}</span></div>
                    </buttom>
                    `;
                    });
                    singleMission = `
                    <div class="list-group-item list-group-item-action bg-transparent border-1 rounded-0 border-white text-white d-flex flex-column justify-content-between">
                        <div class="d-flex flex-row">
                            <div class="d-flex flex-column w-100 text-center">
                                <h5 class="mb-1">Collect:</h5>
                                <div class="w-100">
                                    ${collect}
                                </div>
                            </div>
                            <div class="d-flex flex-column w-100 text-center">
                                <h5 class="mb-1">Award:</h5>
                                <div class="w-100">
                                    ${award}
                                </div>
                            </div>
                        </div>
                        <div class="d-flex flex-column text-center w-100">
                            <div><button class="btn btn-light" onClick="missionChcek(${counter})">Do it!</button></div>
                        </div>
                    </div>
                    `;
                    divMissions.innerHTML += singleMission;
                    counter++;
                });
            } else {
                div.style.visibility = "hidden";
            }
        });

        document.addEventListener("click", function (event) {
            var div = document.getElementById('window-mission');
            var buttom = document.getElementById('mission');
            if (event.target != buttom && event.target.parentNode != buttom) {
                div.style.visibility = "hidden";
            }
        });
        //BUTTONS
        //----------------------------------------------------------------------------------------------------------------------------------------------------------------
        function kindSeedingSet(newKindSeeding, id) {
            kindSeeding = newKindSeeding;
            for (var key in dictButton) {
                document.getElementById(dictButton[key]).className = 'btn btn-outline-light p-2 m-2';
            };
            document.getElementById(id).className = 'btn btn-outline-light p-2 m-2 active';
        };
        function missionChcek(id) {
            var have = false;
            missions[id].collect.forEach(function (coll) {
                switch (coll.item) {
                    case 'wheat': if (dictSeedingCount.wheat >= coll.count) { have = true }; break;
                    case 'tomato': if (dictSeedingCount.tomato >= coll.count) { have = true }; break;
                    case 'carrot': if (dictSeedingCount.carrot >= coll.count) { have = true }; break;
                    case 'coin': if (coins >= coll.count) { have = true }; break;
                };
            });
            if (have) {
                missions[id].award.forEach(function (awa) {
                    switch (awa.item) {
                        case 'wheat': dictSeedingCount.wheat += awa.count; break;
                        case 'tomato': dictSeedingCount.tomato += awa.count; break;
                        case 'carrot': dictSeedingCount.carrot += awa.count; break;
                        case 'coin': coins += awa.count;document.getElementById("coins").innerHTML = coins; break;
                    };
                });
                missions[id].collect.forEach(function (coll) {
                switch (coll.item) {
                    case 'wheat': dictSeedingCount.wheat -= coll.count; break;
                    case 'tomato': dictSeedingCount.tomato -= coll.count; break;
                    case 'carrot': dictSeedingCount.carrot -= coll.count; break;
                    case 'coin': coins -= coll.count;document.getElementById("coins").innerHTML = coins; break;
                };
            });
                missions.splice(id, id+1);
                console.log(missions)
            };
        };
    </script>
</body>

</html>
<!--
    https://www.flaticon.com/search?word=carrot
    https://www.flaticon.com/search?word=watering%20can
    https://www.flaticon.com/search?word=scythe
    https://www.flaticon.com/search?word=coin
    https://www.flaticon.com/search?word=plant
    https://www.flaticon.com/search?word=planting
    https://www.flaticon.com/search?word=mission
    https://www.flaticon.com/search?word=wheat
    https://www.flaticon.com/search?word=tomato
-->